{"version":3,"sources":["constants.js","utils.js","components/Button/index.tsx","components/ActionRow/index.tsx","types.ts","contexts/index.ts","components/Calendar/index.js","components/CombinationContainer/index.js","components/Comparison/index.js","components/Course/index.js","components/CourseAdd/index.js","components/CourseContainer/index.js","components/CourseFilter/index.js","libs/ics.js","hooks/useCookie.js","hooks/useMobile.js","components/Header/index.tsx","components/Instructor/index.js","components/MapView/index.js","components/DaySelection/index.tsx","components/Map/index.js","components/NavDrawer/index.tsx","components/NavMenu/index.tsx","components/Palette/index.js","components/Prerequisite/index.js","components/Scheduler/index.js","components/Section/index.js","components/Select/index.js","components/Tab/index.tsx","components/TimeBlocks/index.js","components/Attribution/index.js","beans/Oscar.js","beans/Course.js","beans/Section.js","beans/SortingOption.js","components/App/index.js","hooks/useJsonCookie.js","index.js"],"names":["DAYS","PALETTE","DELIVERY_MODES","CAMPUSES","Video","Online","stringToTime","string","exec","hour","minute","timeToString","time","ampm","hh","mm","padStart","A","periodToString","period","start","end","getRandomColor","colors","flat","Math","random","length","getContentClassName","color","parseInt","substring","hasConflictBetween","section1","section2","meetings","some","meeting1","meeting2","day","days","includes","classes","classList","filter","c","join","isMobile","window","innerWidth","simplifyName","name","tokens","split","shift","pop","unique","array","Set","isLab","section","type","scheduleType","isLecture","getSemesterName","term","year","semester","Number","humanizeArray","conjunction","init","last","decryptReqs","reqs","openPar","closePar","i","slice","forEach","req","id","Button","className","disabled","text","href","onClick","children","rel","target","tabIndex","onKeyDown","event","key","role","ActionRow","label","actions","restProps","action","map","icon","styling","dataTip","dataFor","onMouseEnter","onMouseLeave","rest","fixedWidth","style","data-tip","data-for","defaultTermData","desiredCourses","pinnedCrns","excludedCrns","colorMap","sortingOptionIndex","ThemeContext","React","createContext","TermsContext","TermContext","oscar","setTerm","setOscar","patchTermData","OverlayCrnsContext","Calendar","overlayCrns","preview","capture","isAutosized","useContext","Array","fill","_","timeToShortString","crn","TimeBlocks","overlay","CombinationContainer","setOverlayCrns","handleResetPinnedCrns","useCallback","confirm","combinations","useMemo","getCombinations","sortedCombinations","sortCombinations","Select","onChange","value","options","sortingOptions","sortingOption","width","height","outline","rowCount","rowHeight","rowRenderer","index","crns","Comparison","Course","courseId","onAddCourse","useState","expanded","setExpanded","prereqOpen","setPrereqOpen","paletteShown","setPaletteShown","gpaMap","setGpaMap","isSearching","Boolean","useEffect","findCourse","fetchGpa","then","handleRemoveCourse","course","sections","undefined","handleIncludeSections","contentClassName","hasPrereqs","version","prereqs","every","prereq","instructorMap","instructors","primaryInstructor","push","Object","keys","excludedInstructors","instructor","includedInstructors","prereqControl","pre","exp","prereqAction","faShareAlt","transform","infoAction","faInfoCircle","subject","number","pinnedSections","totalCredits","reduce","credits","backgroundColor","faPlus","faAngleUp","faAngleDown","faPalette","faTrash","dangerouslySetInnerHTML","__html","title","averageGpa","toFixed","Palette","onSelectColor","col","Instructor","gpa","Prerequisite","isHeader","option","isEmpty","CourseAdd","keyword","setKeyword","deliveryMode","campus","setFilter","activeIndex","setActiveIndex","inputRef","useRef","handleChangeKeyword","e","input","trim","results","match","courses","toUpperCase","keywordMatch","startsWith","filterMatch","entries","tags","handleAddCourse","toBeExcludedCrns","timeDecided","meeting","current","focus","handleKeyDown","min","max","preventDefault","handleToggleFilter","tag","v","handleResetFilter","activeCourse","ref","placeholder","property","labels","CourseFilter","selectedTags","onReset","onToggle","CourseContainer","expandable","ago","updatedAt","ics","uidDomain","prodId","navigator","userAgent","indexOf","console","log","SEPARATOR","appVersion","calendarEvents","calendarStart","calendarEnd","BYDAY_VALUES","events","calendar","addEvent","description","location","begin","stop","rrule","freq","Error","until","isNaN","Date","parse","interval","count","byday","prototype","toString","call","elem","pos","d","start_date","end_date","now_date","start_year","getFullYear","start_month","getMonth","start_day","getDate","start_hours","getHours","start_minutes","getMinutes","start_seconds","getSeconds","end_year","end_month","end_day","end_hours","end_minutes","end_seconds","now_year","now_month","now_day","now_hours","now_minutes","now_seconds","start_time","end_time","now","rruleString","uDate","toISOString","replace","calendarEvent","splice","download","filename","ext","blob","Blob","bb","BlobBuilder","append","getBlob","document","characterSet","saveAs","build","useCookie","defaultValue","setValue","setCookieValue","val","Cookies","set","expires","get","useMobile","mobile","setMobile","handleResize","newMobile","addEventListener","removeEventListener","Header","currentTab","onChangeTab","onToggleMenu","tabs","terms","theme","setTheme","captureRef","handleThemeChange","newTheme","findSection","handleExport","cal","dateRange","from","to","where","getTime","getDay","setDate","setHours","M","T","W","R","F","alert","handleDownload","captureElement","computed","getComputedStyle","getPropertyValue","domtoimage","toBlob","offsetWidth","offsetHeight","faBars","currentTerm","tabLabel","tabIdx","active","faDownload","faCalendarAlt","faPaste","faAdjust","faGithub","includeSection","excludeSections","sectionList","instructorPinned","includedSections","excludedSections","faGraduationCap","encodeURIComponent","faBan","pinned","MapView","locations","latitude","longitude","zoom","viewport","setViewport","unknown","coords","showZoom","showCompass","mapStyle","mapboxApiAccessToken","process","onViewportChange","display","lat","long","faMapPin","Fragment","DaySelection","courseDateMap","activeDay","setActiveDay","colorPalette","daysOfTheWeek","formatTime","floor","date","padding","daysOfWeek","times","Map","info","crnMap","activeLocations","loc","NavDrawer","open","onClose","faTimes","NavMenu","items","currentItem","onChangeItem","item","idx","paletteColor","isLast","reqStyle","fontSize","subreqs","Scheduler","setTabIndex","overlayContextValue","tabTitle","Provider","Section","seating","setSeating","hovering","excludeSection","sect","pinSection","faThumbtack","faChair","place","effect","afterShow","setTimeout","a","fetchSeating","afterHide","opened","setOpened","selectedOption","find","faCaretDown","Tab","top","Attribution","aria-label","Oscar","constructor","data","caches","this","periods","dateRanges","scheduleTypes","campuses","attributes","gradeBases","courseMap","SortingOption","combination","startMap","endMap","tot","ends","values","starts","crnsList","dfs","courseIndex","isIncluded","isPinned","hasConflict","hasLab","pinnedOnlyLecture","onlyLectures","pinnedOnlyLab","onlyLabs","pinnedAllInOne","allInOnes","associatedLabs","lab","associatedLectures","lecture","sectionGroups","sectionGroup","iterateTimeBlocks","factor","calculateFactor","sort","b","callback","sectionId","lonelyLectures","lonelyLabs","distinct","groups","sectionGroupMeetings","sectionGroupHash","JSON","stringify","hash","url","axios","method","headers","response","$","cheerio","load","each","element","lastName","firstName","fullName","scheduleTypeIndex","campusIndex","attributeIndices","gradeBasisIndex","attributeIndex","attribute","gradeBasis","periodIndex","locationIndex","dateRangeIndex","prevDate","currDate","tableRow","eq","first","catch","NAV_TABS","App","setTerms","rawValue","setRawValue","parsedValue","patchValue","patch","rawVal","useJsonCookie","termData","themeContextValue","termsContextValue","termContextValue","swal","button","content","alt","src","res","newOscar","newTerms","test","reverse","recentTerm","currentTabIndex","isDrawerOpen","setIsDrawerOpen","openDrawer","closeDrawer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1df6b209.chunk.js","sourcesContent":["const OPEN = 8 * 60;\nconst CLOSE = 21 * 60;\nconst DAYS = ['M', 'T', 'W', 'R', 'F'];\n\nconst PNG_SCALE_FACTOR = 2;\n\nconst PALETTE = [\n  [\n    '#4D4D4D',\n    '#999999',\n    '#FFFFFF',\n    '#F44E3B',\n    '#FE9200',\n    '#FCDC00',\n    '#DBDF00',\n    '#A4DD00',\n    '#68CCCA',\n    '#73D8FF',\n    '#AEA1FF',\n    '#FDA1FF'\n  ],\n  [\n    '#333333',\n    '#808080',\n    '#CCCCCC',\n    '#D33115',\n    '#E27300',\n    '#FCC400',\n    '#B0BC00',\n    '#68BC00',\n    '#16A5A5',\n    '#009CE0',\n    '#7B64FF',\n    '#FA28FF'\n  ],\n  [\n    '#000000',\n    '#666666',\n    '#B3B3B3',\n    '#9F0500',\n    '#C45100',\n    '#FB9E00',\n    '#808900',\n    '#194D33',\n    '#0C797D',\n    '#0062B1',\n    '#653294',\n    '#AB149E'\n  ]\n];\n\nconst ASYNC_DELIVERY_MODE = 'Remote Asynchronous Course';\n\nconst DELIVERY_MODES = {\n  'Hybrid Course': 'Hybrid',\n  'Remote Synchronous Course': 'Remote Synchronous',\n  'Remote Asynchronous Course': 'Remote Asynchronous',\n  'Residential Course': 'Residential'\n};\n\nconst CAMPUSES = {\n  'Georgia Tech-Atlanta *': 'Atlanta',\n  'GT Lorraine-Undergrad Programs': 'Lorraine Undergrad',\n  'GT Lorraine-Graduate Programs': 'Lorraine Graduate',\n  'Georgia Tech - Shenzhen': 'Shenzhen',\n  Video: 'Video',\n  Online: 'Online',\n  'MBA Evening Program': 'MBA Evening'\n};\n\nexport {\n  OPEN,\n  CLOSE,\n  DAYS,\n  PNG_SCALE_FACTOR,\n  PALETTE,\n  ASYNC_DELIVERY_MODE,\n  DELIVERY_MODES,\n  CAMPUSES\n};\n","import { DAYS, PALETTE } from './constants';\n\nconst stringToTime = (string) => {\n  const [, hour, minute, ampm] = /(\\d{1,2}):(\\d{2}) (a|p)m/.exec(string);\n  return ((ampm === 'p' ? 12 : 0) + (+hour % 12)) * 60 + +minute;\n};\n\nconst timeToString = (time, ampm = true) => {\n  const hour = (time / 60) | 0;\n  const minute = time % 60;\n  const hh = hour > 12 ? hour - 12 : hour;\n  const mm = `${minute}`.padStart(2, '0');\n  const A = `${hour < 12 ? 'a' : 'p'}m`;\n  return ampm ? `${hh}:${mm} ${A}` : `${hh}:${mm}`;\n};\n\nconst timeToShortString = (time) => {\n  const hour = (time / 60) | 0;\n  return `${hour > 12 ? hour - 12 : hour}${hour < 12 ? 'a' : 'p'}m`;\n};\n\nconst periodToString = (period) =>\n  period\n    ? `${timeToString(period.start, false)} - ${timeToString(period.end)}`\n    : 'TBA';\n\nconst getRandomColor = () => {\n  const colors = PALETTE.flat();\n  const index = (Math.random() * colors.length) | 0;\n  return colors[index];\n};\n\nconst getContentClassName = (color) => {\n  const r = parseInt(color.substring(1, 3), 16);\n  const g = parseInt(color.substring(3, 5), 16);\n  const b = parseInt(color.substring(5, 7), 16);\n  return r * 0.299 + g * 0.587 + b * 0.114 > 128\n    ? 'light-content'\n    : 'dark-content';\n};\n\nconst hasConflictBetween = (section1, section2) =>\n  section1.meetings.some((meeting1) =>\n    section2.meetings.some(\n      (meeting2) =>\n        meeting1.period &&\n        meeting2.period &&\n        DAYS.some(\n          (day) => meeting1.days.includes(day) && meeting2.days.includes(day)\n        ) &&\n        meeting1.period.start < meeting2.period.end &&\n        meeting2.period.start < meeting1.period.end\n    )\n  );\n\nconst classes = (...classList) => classList.filter((c) => c).join(' ');\n\nconst isMobile = () => window.innerWidth < 1024;\n\nconst simplifyName = (name) => {\n  const tokens = name.split(' ');\n  const firstName = tokens.shift();\n  const lastName = tokens.pop();\n  return [firstName, lastName].join(' ');\n};\n\nconst unique = (array) => [...new Set(array)];\n\nconst isLab = (section) =>\n  ['Lab', 'Studio'].some((type) => section.scheduleType.includes(type));\n\nconst isLecture = (section) => section.scheduleType.includes('Lecture');\n\nconst getSemesterName = (term) => {\n  const year = term.substring(0, 4);\n  const semester = (() => {\n    switch (Number.parseInt(term.substring(4), 10)) {\n      case 1:\n        return 'Winter';\n      case 2:\n      case 3:\n        return 'Spring';\n      case 5:\n      case 6:\n        return 'Summer';\n      case 8:\n      case 9:\n        return 'Fall';\n      default:\n        return 'Unknown';\n    }\n  })();\n  return `${semester} ${year}`;\n};\n\nconst humanizeArray = (array, conjunction = 'and') => {\n  if (array.length <= 2) {\n    return array.join(` ${conjunction} `);\n  }\n  const init = [...array];\n  const last = init.pop();\n  return `${init.join(', ')}, ${conjunction} ${last}`;\n};\n\nconst decryptReqs = (reqs, openPar = false, closePar = false) => {\n  const last = (i) => i === reqs.length - 2;\n  let string = '';\n\n  if (!reqs[0])\n    string += (openPar ? '(' : '') + reqs.id + (closePar ? ')' : '');\n  else if (reqs[0] === 'and')\n    reqs.slice(1, reqs.length).forEach((req, i) => {\n      string += decryptReqs(req, i === 0, last(i)) + (last(i) ? '' : ' and ');\n    });\n  else if (reqs[0] === 'or')\n    reqs.slice(1, reqs.length).forEach((req, i) => {\n      string += decryptReqs(req) + (last(i) ? '' : ' or ');\n    });\n  else\n    reqs.forEach((req, i) => {\n      string += req.id + (i === reqs.length - 1 ? '' : ' or ');\n    });\n\n  return string;\n};\n\nexport {\n  stringToTime,\n  timeToString,\n  timeToShortString,\n  periodToString,\n  getRandomColor,\n  getContentClassName,\n  hasConflictBetween,\n  classes,\n  isMobile,\n  simplifyName,\n  unique,\n  isLab,\n  isLecture,\n  getSemesterName,\n  humanizeArray,\n  decryptReqs\n};\n","import React from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { classes } from '../../utils';\nimport './stylesheet.scss';\n\nexport type ButtonProps = {\n  className?: string;\n  disabled?: boolean;\n  text?: string;\n  href?: string;\n  onClick?: () => void;\n  children?: React.ReactNode;\n};\n\nexport default function Button({\n  className,\n  disabled = false,\n  text,\n  href,\n  onClick,\n  children\n}: ButtonProps) {\n  if (disabled)\n    return <div className={classes('Button', 'disabled')}>{children}</div>;\n\n  if (href != null)\n    return (\n      <a\n        className={classes('Button', className)}\n        href={href}\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {children}\n      </a>\n    );\n\n  if (text != null)\n    return (\n      <CopyToClipboard text={text}>\n        <div className={classes('Button', className)}>{children}</div>\n      </CopyToClipboard>\n    );\n\n  return (\n    <div\n      className={classes('Button', className)}\n      onClick={onClick}\n      tabIndex={0}\n      onKeyDown={(event) => {\n        // Intercept enter presses\n        if (event.key === 'Enter' && onClick != null) onClick();\n      }}\n      role=\"button\"\n    >\n      {children}\n    </div>\n  );\n}\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { classes } from '../../utils';\nimport Button, { ButtonProps } from '../Button';\n\nimport './stylesheet.scss';\n\ntype FontAwesomeProps = React.ComponentProps<typeof FontAwesomeIcon>;\nexport type Action = {\n  icon: FontAwesomeProps['icon'];\n  styling?: React.CSSProperties;\n  dataTip?: string;\n  dataFor?: string;\n  onMouseEnter?: () => void;\n  onMouseLeave?: () => void;\n} & Omit<ButtonProps, 'children'>;\n\ntype BaseActionRowProps = {\n  label: string;\n  actions: Action[];\n  className?: string;\n  children?: React.ReactNode;\n};\nexport type ActionRowProps = BaseActionRowProps &\n  Omit<React.HTMLAttributes<HTMLDivElement>, keyof BaseActionRowProps>;\n\nexport default function ActionRow({\n  className,\n  label,\n  children,\n  actions,\n  ...restProps\n}: ActionRowProps) {\n  return (\n    <div className={classes('ActionRow', className)} {...restProps}>\n      <div className=\"action-row-header\">\n        <div className=\"label\">{label}</div>\n        <div className={classes('actions', 'default')}>\n          {actions\n            .filter((action) => action)\n            .map(\n              (\n                {\n                  icon,\n                  styling,\n                  dataTip,\n                  dataFor,\n                  onMouseEnter,\n                  onMouseLeave,\n                  ...rest\n                },\n                i\n              ) => (\n                <Button className=\"action\" {...rest} key={i}>\n                  <FontAwesomeIcon\n                    fixedWidth\n                    style={styling}\n                    icon={icon}\n                    data-tip={dataTip}\n                    data-for={dataFor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                  />\n                </Button>\n              )\n            )}\n        </div>\n      </div>\n      {children}\n    </div>\n  );\n}\n","export type Theme = 'light' | 'dark';\n\n// TODO ensure types are correct\nexport type TermData = {\n  desiredCourses: string[];\n  pinnedCrns: string[];\n  excludedCrns: string[];\n  colorMap: Record<string, string | undefined>;\n  sortingOptionIndex: number;\n};\n\nexport const defaultTermData: TermData = {\n  desiredCourses: [],\n  pinnedCrns: [],\n  excludedCrns: [],\n  colorMap: {},\n  sortingOptionIndex: 0\n};\n\n// Declare (better) types for the ICS library\nexport type ICS = {\n  download(filename: string, ext?: string): string | false;\n  addEvent(\n    subject: string,\n    description: string,\n    location: string,\n    begin: string | Date,\n    stop: string | Date,\n    rrule: any\n  ): false | string[];\n};\n","import React from 'react';\nimport { Theme, defaultTermData, TermData } from '../types';\nimport Oscar from '../beans/Oscar';\n\ntype Setter<T> = (next: T) => void;\n\nexport type ThemeContextValue = [Theme, Setter<Theme>];\nexport const ThemeContext = React.createContext<ThemeContextValue>([\n  'light',\n  () => {}\n]);\n\nexport type TermsContextValue = [string[], Setter<string[]>];\nexport const TermsContext = React.createContext<TermsContextValue>([\n  [],\n  () => {}\n]);\n\nexport type TermContextData = {\n  term: string;\n  oscar: Oscar;\n} & TermData;\nexport type TermContextSetters = {\n  setTerm: Setter<string>;\n  setOscar: Setter<Oscar>;\n  patchTermData: Setter<Partial<TermData>>;\n};\nexport type TermContextValue = [TermContextData, TermContextSetters];\nexport const TermContext = React.createContext<TermContextValue>([\n  {\n    term: '',\n    oscar: (null as unknown) as Oscar,\n    ...defaultTermData\n  },\n  {\n    setTerm: () => {},\n    setOscar: () => {},\n    patchTermData: () => {}\n  }\n]);\n\nexport type OverlayCrnsContextValue = [string[], Setter<string[]>];\nexport const OverlayCrnsContext = React.createContext<OverlayCrnsContextValue>([\n  [],\n  () => {}\n]);\n","import React, { useContext } from 'react';\nimport { CLOSE, DAYS, OPEN } from '../../constants';\nimport { classes, timeToShortString } from '../../utils';\nimport { TimeBlocks } from '..';\nimport './stylesheet.scss';\nimport { TermContext } from '../../contexts';\n\nexport default function Calendar({\n  className,\n  overlayCrns,\n  preview,\n  capture,\n  isAutosized\n}) {\n  const [{ pinnedCrns }] = useContext(TermContext);\n\n  return (\n    <div\n      className={classes(\n        'Calendar',\n        capture && 'capture',\n        preview && 'preview',\n        className\n      )}\n    >\n      {!preview && (\n        <div className=\"times\">\n          {new Array((CLOSE - OPEN) / 60).fill(0).map((_, i) => {\n            const time = OPEN + i * 60;\n            return (\n              <div className=\"time\" key={time}>\n                <span className=\"label\">{timeToShortString(time)}</span>\n              </div>\n            );\n          })}\n        </div>\n      )}\n      {!preview && (\n        <div className=\"days\">\n          {DAYS.map((day) => (\n            <div className=\"day\" key={day}>\n              <span className=\"label\">{day}</span>\n            </div>\n          ))}\n        </div>\n      )}\n      <div className=\"meetings\">\n        {pinnedCrns.map((crn) => (\n          <TimeBlocks\n            key={crn}\n            crn={crn}\n            preview={preview}\n            capture={capture}\n            isAutosized={isAutosized}\n          />\n        ))}\n        {overlayCrns &&\n          overlayCrns\n            .filter((crn) => !pinnedCrns.includes(crn))\n            .map((crn) => (\n              <TimeBlocks\n                key={crn}\n                crn={crn}\n                overlay={!preview}\n                preview={preview}\n                capture={capture}\n                isAutosized\n              />\n            ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useCallback, useContext, useMemo } from 'react';\nimport { AutoSizer, List } from 'react-virtualized/dist/commonjs';\nimport { Button, Calendar, Select } from '..';\nimport 'react-virtualized/styles.css';\nimport './stylesheet.scss';\nimport { OverlayCrnsContext, TermContext } from '../../contexts';\n\nexport default function CombinationContainer() {\n  const [\n    { oscar, desiredCourses, pinnedCrns, excludedCrns, sortingOptionIndex },\n    { patchTermData }\n  ] = useContext(TermContext);\n  const [, setOverlayCrns] = useContext(OverlayCrnsContext);\n\n  const handleResetPinnedCrns = useCallback(() => {\n    if (window.confirm('Are you sure to reset sections you selected?')) {\n      patchTermData({\n        pinnedCrns: []\n      });\n    }\n  }, [patchTermData]);\n\n  const combinations = useMemo(\n    () => oscar.getCombinations(desiredCourses, pinnedCrns, excludedCrns),\n    [oscar, desiredCourses, pinnedCrns, excludedCrns]\n  );\n  const sortedCombinations = useMemo(\n    () => oscar.sortCombinations(combinations, sortingOptionIndex),\n    [oscar, combinations, sortingOptionIndex]\n  );\n\n  return (\n    <div className=\"CombinationContainer\">\n      <Select\n        // eslint-disable-next-line no-shadow\n        onChange={(sortingOptionIndex) => patchTermData({ sortingOptionIndex })}\n        value={sortingOptionIndex}\n        options={oscar.sortingOptions.map((sortingOption, i) => ({\n          value: i,\n          label: sortingOption.label\n        }))}\n      />\n      <Button\n        className=\"reset\"\n        onClick={handleResetPinnedCrns}\n        disabled={pinnedCrns.length === 0}\n      >\n        Reset Sections\n      </Button>\n      <div className=\"scroller\">\n        <AutoSizer>\n          {({ width, height }) => (\n            <List\n              width={width}\n              height={height}\n              style={{ outline: 'none' }}\n              rowCount={sortedCombinations.length}\n              rowHeight={108}\n              rowRenderer={({ index, key, style }) => {\n                const { crns } = sortedCombinations[index];\n                return (\n                  <div className=\"list-item\" style={style} key={key}>\n                    <div\n                      className=\"combination\"\n                      onMouseEnter={() => setOverlayCrns(crns)}\n                      onMouseLeave={() => setOverlayCrns([])}\n                      onClick={() =>\n                        patchTermData({\n                          pinnedCrns: [...pinnedCrns, ...crns]\n                        })\n                      }\n                    >\n                      <div className=\"number\">{index + 1}</div>\n                      <Calendar\n                        className=\"calendar-preview\"\n                        overlayCrns={crns}\n                        isAutosized\n                        preview\n                      />\n                    </div>\n                  </div>\n                );\n              }}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nconst Comparison = () => {\n  // TODO implement\n  return <>Not yet implemented</>;\n};\n\nexport default Comparison;\n","import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport {\n  faAngleDown,\n  faAngleUp,\n  faInfoCircle,\n  faShareAlt,\n  faPalette,\n  faPlus,\n  faTrash\n} from '@fortawesome/free-solid-svg-icons';\nimport { classes, getContentClassName } from '../../utils';\nimport { ActionRow, Instructor, Palette, Prerequisite } from '..';\nimport './stylesheet.scss';\nimport { TermContext } from '../../contexts';\n\nexport default function Course({ className, courseId, onAddCourse }) {\n  const [expanded, setExpanded] = useState(false);\n  const [prereqOpen, setPrereqOpen] = useState(false);\n  const [paletteShown, setPaletteShown] = useState(false);\n  const [gpaMap, setGpaMap] = useState({});\n  const isSearching = Boolean(onAddCourse);\n  const [\n    { oscar, term, desiredCourses, pinnedCrns, excludedCrns, colorMap },\n    { patchTermData }\n  ] = useContext(TermContext);\n\n  useEffect(() => {\n    if (!isSearching) {\n      const course = oscar.findCourse(courseId);\n      course.fetchGpa().then(setGpaMap);\n    }\n  }, [isSearching, oscar, courseId]);\n\n  const handleRemoveCourse = useCallback(\n    (course) => {\n      patchTermData({\n        desiredCourses: desiredCourses.filter((id) => id !== course.id),\n        pinnedCrns: pinnedCrns.filter(\n          (crn) => !course.sections.some((section) => section.crn === crn)\n        ),\n        excludedCrns: excludedCrns.filter(\n          (crn) => !course.sections.some((section) => section.crn === crn)\n        ),\n        colorMap: { ...colorMap, [course.id]: undefined }\n      });\n    },\n    [desiredCourses, pinnedCrns, excludedCrns, colorMap, patchTermData]\n  );\n\n  const handleIncludeSections = useCallback(\n    (sections) => {\n      const crns = sections.map((section) => section.crn);\n      patchTermData({\n        excludedCrns: excludedCrns.filter((crn) => !crns.includes(crn))\n      });\n    },\n    [excludedCrns, patchTermData]\n  );\n\n  const course = oscar.findCourse(courseId);\n  const color = colorMap[course.id];\n  const contentClassName = color && getContentClassName(color);\n\n  const hasPrereqs = oscar.version > 1;\n  let prereqs = null;\n\n  if (hasPrereqs) {\n    prereqs = course.prereqs.slice(1, course.prereqs.length);\n    if (prereqs.length && prereqs.every((prereq) => !prereq[0]))\n      prereqs = [prereqs];\n  }\n\n  const instructorMap = {};\n  course.sections.forEach((section) => {\n    const [primaryInstructor = 'Not Assigned'] = section.instructors;\n    if (!(primaryInstructor in instructorMap)) {\n      instructorMap[primaryInstructor] = [];\n    }\n    instructorMap[primaryInstructor].push(section);\n  });\n\n  const instructors = Object.keys(instructorMap);\n  const excludedInstructors = instructors.filter((instructor) => {\n    const sections = instructorMap[instructor];\n    return sections.every((section) => excludedCrns.includes(section.crn));\n  });\n  const includedInstructors = instructors.filter(\n    (instructor) => !excludedInstructors.includes(instructor)\n  );\n\n  const prereqControl = (pre, exp) => {\n    setPrereqOpen(pre);\n    setExpanded(exp);\n  };\n  const prereqAction = {\n    icon: faShareAlt,\n    styling: { transform: 'rotate(90deg)' },\n    onClick: () => {\n      prereqControl(true, !prereqOpen ? true : !expanded);\n    }\n  };\n\n  const infoAction = {\n    icon: faInfoCircle,\n    href:\n      `https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_` +\n      `course_detail?cat_term_in=${term}&subj_code_in=` +\n      `${course.subject}&crse_numb_in=${course.number}`\n  };\n\n  const pinnedSections = course.sections.filter((section) =>\n    pinnedCrns.includes(section.crn)\n  );\n  const totalCredits = pinnedSections.reduce(\n    (credits, section) => credits + section.credits,\n    0\n  );\n\n  return (\n    <div\n      className={classes('Course', contentClassName, 'default', className)}\n      style={{ backgroundColor: color }}\n      key={course.id}\n    >\n      <ActionRow\n        label={[\n          course.id,\n          pinnedSections.map((section) => section.id).join(', ')\n        ].join(' ')}\n        actions={\n          isSearching\n            ? [\n                { icon: faPlus, onClick: onAddCourse },\n                hasPrereqs ? prereqAction : infoAction\n              ]\n            : [\n                {\n                  icon: expanded ? faAngleUp : faAngleDown,\n                  onClick: () => prereqControl(false, !expanded)\n                },\n                hasPrereqs ? prereqAction : infoAction,\n                {\n                  icon: faPalette,\n                  onClick: () => setPaletteShown(!paletteShown)\n                },\n                { icon: faTrash, onClick: () => handleRemoveCourse(course) }\n              ]\n        }\n      >\n        <div className=\"course-row\">\n          <span\n            className=\"course-title\"\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{ __html: course.title }}\n          />\n          <span className=\"section-crns\">\n            {pinnedSections.map((section) => section.crn).join(', ')}\n          </span>\n        </div>\n        {!isSearching && (\n          <div className=\"course-row\">\n            <span className=\"gpa\">\n              Course GPA:{' '}\n              {Object.keys(gpaMap).length === 0\n                ? 'Loading...'\n                : gpaMap.averageGpa\n                ? gpaMap.averageGpa.toFixed(2)\n                : 'N/A'}\n            </span>\n            {totalCredits > 0 && (\n              <span className=\"credits\">{totalCredits} Credits</span>\n            )}\n          </div>\n        )}\n        {paletteShown && (\n          <Palette\n            className=\"palette\"\n            onSelectColor={(col) =>\n              patchTermData({ colorMap: { ...colorMap, [courseId]: col } })\n            }\n            color={color}\n            onMouseLeave={() => setPaletteShown(false)}\n          />\n        )}\n      </ActionRow>\n      {expanded && !prereqOpen && (\n        <div className={classes('hover-container', 'nested')}>\n          {includedInstructors.map((name) => (\n            <Instructor\n              key={name}\n              color={color}\n              name={name}\n              sections={instructorMap[name]}\n              gpa={\n                Object.keys(gpaMap).length === 0\n                  ? 'Loading...'\n                  : gpaMap[name]\n                  ? gpaMap[name].toFixed(2)\n                  : 'N/A'\n              }\n            />\n          ))}\n          {excludedInstructors.length > 0 && (\n            <div className=\"excluded-instructor-container\">\n              {excludedInstructors.map((name) => (\n                <span\n                  className=\"excluded-instructor\"\n                  key={name}\n                  onClick={() => handleIncludeSections(instructorMap[name])}\n                >\n                  {name}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n      {expanded && prereqOpen && (\n        <div className={classes('hover-container')}>\n          <div\n            className={classes(\n              !desiredCourses.includes(course.id) && 'dark-content',\n              'nested'\n            )}\n          >\n            <Prerequisite course={course} isHeader />\n            <div className={classes('nested')}>\n              {!!prereqs.length > 0 &&\n                prereqs.map((req, i) => (\n                  <Prerequisite\n                    key={i}\n                    option={i + 1}\n                    course={course}\n                    req={req}\n                    isHeader\n                  />\n                ))}\n              {!prereqs.length && <Prerequisite course={course} isEmpty />}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, {\n  useCallback,\n  useContext,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { Course, CourseFilter } from '..';\nimport { classes, getRandomColor } from '../../utils';\nimport './stylesheet.scss';\nimport { ASYNC_DELIVERY_MODE, CAMPUSES, DELIVERY_MODES } from '../../constants';\nimport { TermContext } from '../../contexts';\n\nexport default function CourseAdd({ className }) {\n  const [\n    { oscar, desiredCourses, excludedCrns, colorMap },\n    { patchTermData }\n  ] = useContext(TermContext);\n  const [keyword, setKeyword] = useState('');\n  const [filter, setFilter] = useState({\n    deliveryMode: [],\n    campus: []\n  });\n  const [activeIndex, setActiveIndex] = useState(0);\n  const inputRef = useRef(null);\n\n  const handleChangeKeyword = useCallback((e) => {\n    let input = e.target.value.trim();\n    const results = input.match(/^([A-Z]+)(\\d.*)$/i);\n    if (results) {\n      const [, subject, number] = results;\n      input = `${subject} ${number}`;\n    }\n    setKeyword(input);\n  }, []);\n\n  const courses = useMemo(() => {\n    const results = /^([A-Z]+) ?((\\d.*)?)$/i.exec(keyword.toUpperCase());\n    if (!results) {\n      return [];\n    }\n    const [, subject, number] = results;\n\n    setActiveIndex(0);\n\n    return oscar.courses\n      .filter((course) => {\n        const keywordMatch =\n          course.subject === subject && course.number.startsWith(number);\n        const filterMatch = Object.entries(filter).every(\n          ([key, tags]) =>\n            tags.length === 0 ||\n            course.sections.some((section) => tags.includes(section[key]))\n        );\n        return keywordMatch && filterMatch;\n      })\n      .filter((course) => !desiredCourses.includes(course.id));\n  }, [oscar, keyword, filter, desiredCourses]);\n\n  const handleAddCourse = useCallback(\n    (course) => {\n      if (desiredCourses.includes(course.id)) return;\n      const toBeExcludedCrns = course.sections\n        .filter((section) => {\n          const timeDecided =\n            section.deliveryMode === ASYNC_DELIVERY_MODE ||\n            (section.meetings.length &&\n              section.meetings.every(\n                (meeting) => meeting.days.length && meeting.period\n              ));\n          const filterMatch = Object.entries(filter).every(\n            ([key, tags]) => tags.length === 0 || tags.includes(section[key])\n          );\n          return !timeDecided || !filterMatch;\n        })\n        .map((section) => section.crn);\n      patchTermData({\n        desiredCourses: [...desiredCourses, course.id],\n        excludedCrns: [...excludedCrns, ...toBeExcludedCrns],\n        colorMap: { ...colorMap, [course.id]: getRandomColor() }\n      });\n      setKeyword('');\n      inputRef.current.focus();\n    },\n    [filter, desiredCourses, excludedCrns, colorMap, inputRef, patchTermData]\n  );\n\n  const handleKeyDown = useCallback(\n    (e) => {\n      switch (e.key) {\n        case 'Enter':\n          if (courses[activeIndex]) {\n            handleAddCourse(courses[activeIndex]);\n          }\n          break;\n        case 'ArrowDown':\n          setActiveIndex(Math.min(activeIndex + 1, courses.length - 1));\n          break;\n        case 'ArrowUp':\n          setActiveIndex(Math.max(activeIndex - 1, 0));\n          break;\n        default:\n          return;\n      }\n      e.preventDefault();\n    },\n    [courses, handleAddCourse, activeIndex]\n  );\n\n  const handleToggleFilter = useCallback(\n    (key, tag) => {\n      const tags = filter[key];\n      setFilter({\n        ...filter,\n        [key]: tags.includes(tag)\n          ? tags.filter((v) => v !== tag)\n          : [...tags, tag]\n      });\n    },\n    [filter]\n  );\n\n  const handleResetFilter = useCallback(\n    (key) => {\n      setFilter({\n        ...filter,\n        [key]: []\n      });\n    },\n    [filter]\n  );\n\n  const activeCourse = courses[activeIndex];\n\n  return (\n    <div className={classes('CourseAdd', className)}>\n      <div className=\"add\">\n        <div className=\"primary\">\n          <FontAwesomeIcon\n            className={classes('icon', courses.length && 'active')}\n            fixedWidth\n            icon={faPlus}\n          />\n          <div className=\"keyword-wrapper\">\n            {activeCourse && (\n              <div className={classes('keyword', 'autocomplete')}>\n                {activeCourse.id}\n              </div>\n            )}\n            <input\n              type=\"text\"\n              ref={inputRef}\n              value={keyword}\n              onChange={handleChangeKeyword}\n              className=\"keyword\"\n              placeholder=\"XX 0000\"\n              onKeyDown={handleKeyDown}\n            />\n          </div>\n        </div>\n        {[\n          ['Delivery Mode', 'deliveryMode', DELIVERY_MODES],\n          ['Campus', 'campus', CAMPUSES]\n        ].map(([name, property, labels]) => (\n          <CourseFilter\n            key={property}\n            name={name}\n            labels={labels}\n            selectedTags={filter[property]}\n            onReset={() => handleResetFilter(property)}\n            onToggle={(tag) => handleToggleFilter(property, tag)}\n          />\n        ))}\n      </div>\n      {courses.length > 0 ? (\n        courses.map((course) => (\n          <Course\n            key={course.id}\n            className={course === activeCourse && 'active'}\n            courseId={course.id}\n            pinnedCrns={[]}\n            onAddCourse={() => handleAddCourse(course)}\n          />\n        ))\n      ) : (\n        <div className=\"disclaimer\">\n          Disclaimer: GT Scheduler should be used as general reference only, and\n          users are solely responsible for ensuring any information including\n          registration restrictions.\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport ago from 's-ago';\nimport { Button, Course, CourseAdd } from '..';\nimport 'react-virtualized/styles.css';\nimport './stylesheet.scss';\nimport { TermContext } from '../../contexts';\n\nexport default function CourseContainer() {\n  const [{ oscar, desiredCourses }] = useContext(TermContext);\n\n  return (\n    <div className=\"CourseContainer\">\n      <div className=\"scroller\">\n        <div className=\"course-list\">\n          {desiredCourses.map((courseId) => {\n            return <Course courseId={courseId} expandable key={courseId} />;\n          })}\n        </div>\n        <CourseAdd className=\"course-add\" />\n      </div>\n      <Button\n        className=\"updated-at\"\n        href=\"https://github.com/gt-scheduler/crawler\"\n      >\n        Course data fetched {ago(oscar.updatedAt)}\n      </Button>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { classes, humanizeArray } from '../../utils';\nimport './stylesheet.scss';\n\nexport default function CourseFilter({\n  name,\n  labels,\n  selectedTags,\n  onReset,\n  onToggle\n}) {\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <div className=\"CourseFilter\">\n      <div\n        className={classes('header', selectedTags.length > 0 && 'active')}\n        onClick={() => setExpanded(!expanded)}\n      >\n        {!expanded && selectedTags.length > 0 ? (\n          <div\n            className=\"name\"\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{\n              __html: humanizeArray(\n                selectedTags.map((tag) => labels[tag]),\n                '<span class=\"or\">or</span>'\n              )\n            }}\n          />\n        ) : (\n          <div className=\"name\">{name}</div>\n        )}\n        <FontAwesomeIcon fixedWidth icon={expanded ? faAngleUp : faAngleDown} />\n      </div>\n      {expanded && (\n        <div className=\"tag-container\">\n          <div\n            className={classes('tag', selectedTags.length === 0 && 'active')}\n            onClick={onReset}\n          >\n            All\n          </div>\n          {Object.keys(labels).map((tag) => (\n            <div\n              key={tag}\n              className={classes('tag', selectedTags.includes(tag) && 'active')}\n              property={tag}\n              onClick={() => onToggle(tag)}\n            >\n              {labels[tag]}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","/* global saveAs, BlobBuilder */\n/* exported ics */\n\nconst ics = (uidDomain, prodId) => {\n  if (\n    navigator.userAgent.indexOf('MSIE') > -1 &&\n    navigator.userAgent.indexOf('MSIE 10') === -1\n  ) {\n    // eslint-disable-next-line no-console\n    console.log('Unsupported Browser');\n    return;\n  }\n\n  if (typeof uidDomain === 'undefined') {\n    uidDomain = 'default';\n  }\n  if (typeof prodId === 'undefined') {\n    prodId = 'Calendar';\n  }\n\n  const SEPARATOR = navigator.appVersion.indexOf('Win') !== -1 ? '\\r\\n' : '\\n';\n  const calendarEvents = [];\n  const calendarStart = [\n    'BEGIN:VCALENDAR',\n    `PRODID:${prodId}`,\n    'VERSION:2.0'\n  ].join(SEPARATOR);\n  const calendarEnd = `${SEPARATOR}END:VCALENDAR`;\n  const BYDAY_VALUES = ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'];\n\n  return {\n    /**\n     * Returns events array\n     * @return {array} Events\n     */\n    events() {\n      return calendarEvents;\n    },\n\n    /**\n     * Returns calendar\n     * @return {string} Calendar in iCalendar format\n     */\n    calendar() {\n      return (\n        calendarStart + SEPARATOR + calendarEvents.join(SEPARATOR) + calendarEnd\n      );\n    },\n\n    /**\n     * Add event to the calendar\n     * @param  {string} subject     Subject/Title of event\n     * @param  {string} description Description of event\n     * @param  {string} location    Location of event\n     * @param  {string} begin       Beginning date of event\n     * @param  {string} stop        Ending date of event\n     */\n    addEvent(subject, description, location, begin, stop, rrule) {\n      // I'm not in the mood to make these optional... So they are all required\n      if (\n        typeof subject === 'undefined' ||\n        typeof description === 'undefined' ||\n        typeof location === 'undefined' ||\n        typeof begin === 'undefined' ||\n        typeof stop === 'undefined'\n      ) {\n        return false;\n      }\n\n      // validate rrule\n      if (rrule) {\n        if (!rrule.rrule) {\n          if (\n            rrule.freq !== 'YEARLY' &&\n            rrule.freq !== 'MONTHLY' &&\n            rrule.freq !== 'WEEKLY' &&\n            rrule.freq !== 'DAILY'\n          ) {\n            throw new Error(\n              \"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'\"\n            );\n          }\n\n          if (rrule.until) {\n            if (Number.isNaN(Date.parse(rrule.until))) {\n              throw new Error(\n                \"Recurrence rrule 'until' must be a valid date string\"\n              );\n            }\n          }\n\n          if (rrule.interval) {\n            if (Number.isNaN(parseInt(rrule.interval, 10))) {\n              throw new Error(\"Recurrence rrule 'interval' must be an integer\");\n            }\n          }\n\n          if (rrule.count) {\n            if (Number.isNaN(parseInt(rrule.count, 10))) {\n              throw new Error(\"Recurrence rrule 'count' must be an integer\");\n            }\n          }\n\n          if (typeof rrule.byday !== 'undefined') {\n            if (\n              Object.prototype.toString.call(rrule.byday) !== '[object Array]'\n            ) {\n              throw new Error(\"Recurrence rrule 'byday' must be an array\");\n            }\n\n            if (rrule.byday.length > 7) {\n              throw new Error(\n                \"Recurrence rrule 'byday' array must not be longer than the 7 days in a week\"\n              );\n            }\n\n            // Filter any possible repeats\n            rrule.byday = rrule.byday.filter((elem, pos) => {\n              return rrule.byday.indexOf(elem) === pos;\n            });\n\n            for (const d in rrule.byday) {\n              if (BYDAY_VALUES.indexOf(rrule.byday[d]) < 0) {\n                throw new Error(\n                  \"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'\"\n                );\n              }\n            }\n          }\n        }\n      }\n\n      // TODO add time and time zone? use moment to format?\n      const start_date = new Date(begin);\n      const end_date = new Date(stop);\n      const now_date = new Date();\n\n      const start_year = `0000${start_date.getFullYear().toString()}`.slice(-4);\n      const start_month = `00${(start_date.getMonth() + 1).toString()}`.slice(\n        -2\n      );\n      const start_day = `00${start_date.getDate().toString()}`.slice(-2);\n      const start_hours = `00${start_date.getHours().toString()}`.slice(-2);\n      const start_minutes = `00${start_date.getMinutes().toString()}`.slice(-2);\n      const start_seconds = `00${start_date.getSeconds().toString()}`.slice(-2);\n\n      const end_year = `0000${end_date.getFullYear().toString()}`.slice(-4);\n      const end_month = `00${(end_date.getMonth() + 1).toString()}`.slice(-2);\n      const end_day = `00${end_date.getDate().toString()}`.slice(-2);\n      const end_hours = `00${end_date.getHours().toString()}`.slice(-2);\n      const end_minutes = `00${end_date.getMinutes().toString()}`.slice(-2);\n      const end_seconds = `00${end_date.getSeconds().toString()}`.slice(-2);\n\n      const now_year = `0000${now_date.getFullYear().toString()}`.slice(-4);\n      const now_month = `00${(now_date.getMonth() + 1).toString()}`.slice(-2);\n      const now_day = `00${now_date.getDate().toString()}`.slice(-2);\n      const now_hours = `00${now_date.getHours().toString()}`.slice(-2);\n      const now_minutes = `00${now_date.getMinutes().toString()}`.slice(-2);\n      const now_seconds = `00${now_date.getSeconds().toString()}`.slice(-2);\n\n      let start_time = '';\n      let end_time = '';\n      if (\n        start_hours +\n          start_minutes +\n          start_seconds +\n          end_hours +\n          end_minutes +\n          end_seconds !==\n        0\n      ) {\n        start_time = `T${start_hours}${start_minutes}${start_seconds}`;\n        end_time = `T${end_hours}${end_minutes}${end_seconds}`;\n      }\n      const now_time = `T${now_hours}${now_minutes}${now_seconds}`;\n\n      const start = start_year + start_month + start_day + start_time;\n      const end = end_year + end_month + end_day + end_time;\n      const now = now_year + now_month + now_day + now_time;\n\n      // recurrence rrule vars\n      let rruleString;\n      if (rrule) {\n        if (rrule.rrule) {\n          rruleString = rrule.rrule;\n        } else {\n          rruleString = `RRULE:FREQ=${rrule.freq}`;\n\n          if (rrule.until) {\n            const uDate = new Date(Date.parse(rrule.until)).toISOString();\n            rruleString += `;UNTIL=${uDate\n              .substring(0, uDate.length - 13)\n              .replace(/[-]/g, '')}000000Z`;\n          }\n\n          if (rrule.interval) {\n            rruleString += `;INTERVAL=${rrule.interval}`;\n          }\n\n          if (rrule.count) {\n            rruleString += `;COUNT=${rrule.count}`;\n          }\n\n          if (rrule.byday && rrule.byday.length > 0) {\n            rruleString += `;BYDAY=${rrule.byday.join(',')}`;\n          }\n        }\n      }\n\n      // var stamp = new Date().toISOString();\n\n      let calendarEvent = [\n        'BEGIN:VEVENT',\n        `UID:${calendarEvents.length}@${uidDomain}`,\n        'CLASS:PUBLIC',\n        `DESCRIPTION:${description}`,\n        `DTSTAMP;VALUE=DATE-TIME:${now}`,\n        `DTSTART;VALUE=DATE-TIME:${start}`,\n        `DTEND;VALUE=DATE-TIME:${end}`,\n        `LOCATION:${location}`,\n        `SUMMARY;LANGUAGE=en-us:${subject}`,\n        'TRANSP:TRANSPARENT',\n        'END:VEVENT'\n      ];\n\n      if (rruleString) {\n        calendarEvent.splice(4, 0, rruleString);\n      }\n\n      calendarEvent = calendarEvent.join(SEPARATOR);\n\n      calendarEvents.push(calendarEvent);\n      return calendarEvent;\n    },\n\n    /**\n     * Download calendar using the saveAs function from filesave.js\n     * @param  {string} filename Filename\n     * @param  {string} ext      Extention\n     */\n    download(filename, ext) {\n      if (calendarEvents.length < 1) {\n        return false;\n      }\n\n      ext = typeof ext !== 'undefined' ? ext : '.ics';\n      filename = typeof filename !== 'undefined' ? filename : 'calendar';\n      const calendar =\n        calendarStart +\n        SEPARATOR +\n        calendarEvents.join(SEPARATOR) +\n        calendarEnd;\n\n      let blob;\n      if (navigator.userAgent.indexOf('MSIE 10') === -1) {\n        // chrome or firefox\n        blob = new Blob([calendar]);\n      } else {\n        // ie\n        const bb = new BlobBuilder();\n        bb.append(calendar);\n        blob = bb.getBlob(`text/x-vCalendar;charset=${document.characterSet}`);\n      }\n      saveAs(blob, filename + ext);\n      return calendar;\n    },\n\n    /**\n     * Build and return the ical contents\n     */\n    build() {\n      if (calendarEvents.length < 1) {\n        return false;\n      }\n\n      const calendar =\n        calendarStart +\n        SEPARATOR +\n        calendarEvents.join(SEPARATOR) +\n        calendarEnd;\n\n      return calendar;\n    }\n  };\n};\n\nexport default ics;\n","import { useCallback, useEffect, useState } from 'react';\nimport Cookies from 'js-cookie';\n\nexport default function useCookie(key, defaultValue) {\n  const [value, setValue] = useState(defaultValue);\n\n  const setCookieValue = useCallback(\n    (val) => {\n      setValue(val);\n      Cookies.set(key, val, { expires: 1460 });\n    },\n    [key, setValue]\n  );\n\n  useEffect(() => {\n    let val;\n    if (key !== undefined) {\n      val = Cookies.get(key);\n    }\n    setValue(val === undefined ? defaultValue : val);\n  }, [key, defaultValue]);\n\n  return [value, setCookieValue];\n}\n","import { useState, useEffect } from 'react';\nimport { isMobile } from '../utils';\n\n/**\n * Subscribes to resize events on the page\n *\n * ? Would this be better to subscribe to a media query ?\n */\nexport default function useMobile() {\n  const [mobile, setMobile] = useState(isMobile());\n  useEffect(() => {\n    const handleResize = () => {\n      const newMobile = isMobile();\n      if (mobile !== newMobile) {\n        setMobile(newMobile);\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [mobile]);\n\n  return mobile;\n}\n","import React, { useCallback, useContext, useMemo, useRef } from 'react';\nimport 'react-virtualized/styles.css';\nimport './stylesheet.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faAdjust,\n  faBars,\n  faCalendarAlt,\n  faDownload,\n  faPaste\n} from '@fortawesome/free-solid-svg-icons';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\nimport Cookies from 'js-cookie';\nimport domtoimage from 'dom-to-image';\nimport { saveAs } from 'file-saver';\nimport { getSemesterName } from '../../utils';\nimport { PNG_SCALE_FACTOR } from '../../constants';\nimport ics from '../../libs/ics';\nimport { Button, Calendar, Select, Tab } from '..';\nimport { useMobile } from '../../hooks';\nimport { TermContext, TermsContext, ThemeContext } from '../../contexts';\nimport { ICS } from '../../types';\n\nexport type HeaderProps = {\n  currentTab: number;\n  onChangeTab: (newTab: number) => void;\n  onToggleMenu: () => void;\n  tabs: string[];\n};\n\n/**\n * Renders the top header component,\n * and includes controls for top-level tab-based navigation\n */\nconst Header = ({\n  currentTab,\n  onChangeTab,\n  onToggleMenu,\n  tabs\n}: HeaderProps) => {\n  const [{ term, oscar, pinnedCrns }, { setTerm }] = useContext(TermContext);\n  const [terms] = useContext(TermsContext);\n  const [theme, setTheme] = useContext(ThemeContext);\n  const captureRef = useRef<HTMLDivElement>(null);\n\n  const handleThemeChange = useCallback(() => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    Cookies.set('theme', newTheme, { expires: 1460 });\n    setTheme(newTheme);\n  }, [theme, setTheme]);\n\n  const totalCredits = useMemo(() => {\n    return pinnedCrns.reduce((credits, crn) => {\n      return credits + oscar.findSection(crn).credits;\n    }, 0);\n  }, [pinnedCrns, oscar]);\n\n  const handleExport = useCallback(() => {\n    const cal = ics() as ICS | undefined;\n    if (cal == null) {\n      window.alert('This browser does not support calendar export');\n      return;\n    }\n\n    pinnedCrns.forEach((crn) => {\n      const section = oscar.findSection(crn);\n      // TODO supply better types\n      section.meetings.forEach((meeting: any) => {\n        if (!meeting.period || !meeting.days.length) return;\n        const { from, to } = meeting.dateRange;\n        const subject = section.course.id;\n        const description = section.course.title;\n        const location = meeting.where;\n        const begin = new Date(from.getTime());\n        while (\n          !meeting.days.includes(\n            ['-', 'M', 'T', 'W', 'R', 'F', '-'][begin.getDay()]\n          )\n        ) {\n          begin.setDate(begin.getDate() + 1);\n        }\n        begin.setHours(meeting.period.start / 60, meeting.period.start % 60);\n        const end = new Date(begin.getTime());\n        end.setHours(meeting.period.end / 60, meeting.period.end % 60);\n        const rrule = {\n          freq: 'WEEKLY',\n          until: to,\n          byday: meeting.days.map(\n            (day: 'M' | 'T' | 'W' | 'R' | 'F') =>\n              ({ M: 'MO', T: 'TU', W: 'WE', R: 'TH', F: 'FR' }[day])\n          )\n        };\n        cal.addEvent(subject, description, location, begin, end, rrule);\n      });\n    });\n    cal.download('gt-scheduler');\n  }, [oscar, pinnedCrns]);\n\n  const handleDownload = useCallback(() => {\n    const captureElement = captureRef.current;\n    if (captureElement == null) return;\n\n    const computed = window\n      .getComputedStyle(captureElement)\n      .getPropertyValue('left');\n\n    domtoimage\n      .toBlob(captureElement, {\n        width: captureElement.offsetWidth * PNG_SCALE_FACTOR,\n        height: captureElement.offsetHeight * PNG_SCALE_FACTOR,\n        style: {\n          transform: `scale(${PNG_SCALE_FACTOR})`,\n          'transform-origin': `${computed} 0px`,\n          'background-color': theme === 'light' ? '#FFFFFF' : '#333333'\n        }\n      })\n      .then((blob) => saveAs(blob, 'schedule.png'));\n  }, [captureRef, theme]);\n\n  // Re-render when the page is re-sized to become mobile/desktop\n  // (desktop is >= 1024 px wide)\n  const mobile = useMobile();\n\n  return (\n    <div className=\"Header\">\n      {/* Menu button, only displayed on mobile */}\n      {mobile && (\n        <Button className=\"nav-menu-button\" onClick={onToggleMenu}>\n          <FontAwesomeIcon className=\"icon\" fixedWidth icon={faBars} />\n        </Button>\n      )}\n\n      {/* Left-aligned logo */}\n      <Button className=\"logo\">\n        <span className=\"gt\">GT </span>\n        <span className=\"scheduler\">Scheduler</span>\n      </Button>\n\n      {/* Term selector */}\n      <Select\n        onChange={setTerm}\n        value={term}\n        options={terms.map((currentTerm) => ({\n          value: currentTerm,\n          label: getSemesterName(currentTerm)\n        }))}\n        className=\"semester\"\n      />\n\n      <span className=\"credits\">{totalCredits} Credits</span>\n\n      {/* Include middle-aligned tabs on desktop */}\n      {!mobile && (\n        <div className=\"tabs\">\n          {tabs.map((tabLabel, tabIdx) => (\n            <Tab\n              key={tabIdx}\n              active={tabIdx === currentTab}\n              onClick={() => onChangeTab(tabIdx)}\n              label={tabLabel}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Action bar */}\n      <div className=\"menu\">\n        <Button onClick={handleDownload} disabled={pinnedCrns.length === 0}>\n          <FontAwesomeIcon className=\"icon\" fixedWidth icon={faDownload} />\n          <div className=\"text\">Download</div>\n        </Button>\n        <Button onClick={handleExport} disabled={pinnedCrns.length === 0}>\n          <FontAwesomeIcon className=\"icon\" fixedWidth icon={faCalendarAlt} />\n          <div className=\"text\">Export</div>\n        </Button>\n        <Button text={pinnedCrns.join(', ')} disabled={pinnedCrns.length === 0}>\n          <FontAwesomeIcon className=\"icon\" fixedWidth icon={faPaste} />\n          <div className=\"text\">CRNs</div>\n        </Button>\n        <Button onClick={handleThemeChange}>\n          <FontAwesomeIcon className=\"icon\" fixedWidth icon={faAdjust} />\n          <div className=\"text\">Theme</div>\n        </Button>\n        <Button href=\"https://github.com/gt-scheduler/website\">\n          <FontAwesomeIcon className=\"icon\" fixedWidth icon={faGithub} />\n          <div className=\"text\">GitHub</div>\n        </Button>\n      </div>\n\n      {/* Fake calendar used to capture screenshots */}\n      <div className=\"capture-container\" ref={captureRef}>\n        {/* TODO remove once Calendar gets typing */}\n        {/*\n          // @ts-ignore */}\n        <Calendar className=\"fake-calendar\" capture />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useCallback, useContext, useState } from 'react';\nimport {\n  faAngleDown,\n  faAngleUp,\n  faBan,\n  faGraduationCap\n} from '@fortawesome/free-solid-svg-icons';\nimport { classes, simplifyName, unique } from '../../utils';\nimport { ActionRow, Section } from '..';\nimport './stylesheet.scss';\nimport { TermContext } from '../../contexts';\n\nexport default function Instructor({ className, color, name, sections, gpa }) {\n  const [{ pinnedCrns, excludedCrns }, { patchTermData }] = useContext(\n    TermContext\n  );\n  const [expanded, setExpanded] = useState(true);\n\n  const includeSection = useCallback(\n    (section) => {\n      patchTermData({\n        excludedCrns: excludedCrns.filter((crn) => crn !== section.crn)\n      });\n    },\n    [excludedCrns, patchTermData]\n  );\n\n  const excludeSections = useCallback(\n    (sectionList) => {\n      const crns = sectionList.map((section) => section.crn);\n      patchTermData({\n        excludedCrns: unique([...excludedCrns, ...crns]),\n        pinnedCrns: pinnedCrns.filter((crn) => !crns.includes(crn))\n      });\n    },\n    [excludedCrns, pinnedCrns, patchTermData]\n  );\n\n  const instructorPinned = sections.some((section) =>\n    pinnedCrns.includes(section.crn)\n  );\n\n  const includedSections = sections.filter(\n    (section) => !excludedCrns.includes(section.crn)\n  );\n  const excludedSections = sections.filter((section) =>\n    excludedCrns.includes(section.crn)\n  );\n\n  return (\n    <div\n      className={classes(\n        'Instructor',\n        !expanded && 'divider-bottom',\n        className\n      )}\n    >\n      <ActionRow\n        label={name || 'Not Assigned'}\n        actions={[\n          {\n            icon: expanded ? faAngleUp : faAngleDown,\n            onClick: () => setExpanded(!expanded)\n          },\n          !['TBA', 'Not Assigned'].includes(name) && {\n            icon: faGraduationCap,\n            href: `http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=${encodeURIComponent(\n              simplifyName(name)\n            )}`\n          },\n          {\n            icon: faBan,\n            title: 'Exclude from Combinations',\n            onClick: () => excludeSections(sections)\n          }\n        ]}\n        style={instructorPinned ? { backgroundColor: color } : undefined}\n      >\n        <div className=\"instructor-row\">\n          <span className=\"gpa\">Instructor GPA: {gpa || 'N/A'}</span>\n        </div>\n      </ActionRow>\n      {expanded && (\n        <div className={classes('section-container', 'nested')}>\n          {includedSections.map((section) => {\n            const pinned = pinnedCrns.includes(section.crn);\n            return (\n              <Section\n                key={section.id}\n                className=\"divider-bottom\"\n                section={section}\n                color={color}\n                pinned={pinned}\n              />\n            );\n          })}\n          {excludedSections.length > 0 && (\n            <div className=\"excluded-section-container\">\n              {excludedSections.map((section) => (\n                <span\n                  className=\"excluded-section\"\n                  key={section.id}\n                  onClick={() => includeSection(section)}\n                >\n                  {section.id}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport ReactMapGL, { Marker, NavigationControl } from 'react-map-gl';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapPin } from '@fortawesome/free-solid-svg-icons';\nimport './stylesheet.scss';\n\nconst MapView = ({ locations }) => {\n  const [viewport, setViewport] = useState({\n    latitude: 33.7765,\n    longitude: -84.3963,\n    height: '100%',\n    width: '100%',\n    zoom: 15\n  });\n\n  const unknown = [];\n  locations.forEach((location) => {\n    if (!location.coords) unknown.push(location);\n  });\n\n  return (\n    <div className=\"mapbox\">\n      <ReactMapGL\n        {...viewport}\n        showZoom\n        showCompass\n        mapStyle=\"mapbox://styles/mapbox/outdoors-v9\"\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n        onViewportChange={(display) => setViewport(display)}\n      >\n        {locations.map((location, i) =>\n          !location.coords ? (\n            <React.Fragment key={i} />\n          ) : (\n            <Marker\n              key={i}\n              latitude={location.coords.lat}\n              longitude={location.coords.long}\n            >\n              <FontAwesomeIcon icon={faMapPin} className=\"pin-icon\" />\n              <p className=\"pin-text\">\n                {location.id} {location.section}\n              </p>\n            </Marker>\n          )\n        )}\n        {unknown.length > 0 && (\n          <div className=\"unknown-container\">\n            <b>Undetermined</b>\n            {unknown.map((location, i) => (\n              <div className=\"class\" key={i}>\n                {location.id} {location.section}\n              </div>\n            ))}\n          </div>\n        )}\n        <div className=\"navigation\">\n          <NavigationControl />\n        </div>\n      </ReactMapGL>\n    </div>\n  );\n};\n\nexport default MapView;\n","import React from 'react';\nimport { faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons';\nimport { ActionRow } from '..';\nimport { classes, getContentClassName } from '../../utils';\n\nimport './stylesheet.scss';\n\ntype Day = 'M' | 'T' | 'W' | 'R' | 'F';\nexport type DaySelectionProps = {\n  courseDateMap: Record<Day, object[]>;\n  activeDay: Day | '';\n  setActiveDay: (next: Day | '') => void;\n};\n\nexport default function DaySelection({\n  courseDateMap,\n  activeDay,\n  setActiveDay\n}: DaySelectionProps) {\n  const colorPalette = ['#FCB9AA', '#FFDBCC', '#ECEAE4', '#A2E1DB', '#55CBCD'];\n  const daysOfTheWeek = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday'\n  ];\n\n  const formatTime = (time: number): string => {\n    if (Math.floor(time / 60) > 12) {\n      return `${Math.floor(time / 60) % 12}:${\n        time % 60 === 0 ? '00' : time % 60\n      }pm`;\n    }\n    return `${Math.floor(time / 60)}:${time % 60 === 0 ? '00' : time % 60}am`;\n  };\n\n  return (\n    <div className=\"date-container\">\n      {Object.keys(courseDateMap).map((date, i) => (\n        <div\n          key={date}\n          className={classes(\n            'date',\n            getContentClassName(colorPalette[i]),\n            'default'\n          )}\n          style={{ backgroundColor: colorPalette[i] }}\n        >\n          <ActionRow\n            label={daysOfTheWeek[i]}\n            className=\"day-select\"\n            actions={[\n              {\n                icon: date === activeDay ? faAngleUp : faAngleDown,\n                onClick: () =>\n                  date !== activeDay\n                    ? setActiveDay(date as Day)\n                    : setActiveDay('')\n              }\n            ]}\n          />\n          {activeDay === date && (\n            <div className=\"dropdown-content\">\n              {courseDateMap[date as Day].length === 0 ? (\n                <div className=\"course-content\" style={{ padding: 8 }}>\n                  No classes this day!\n                </div>\n              ) : (\n                courseDateMap[date as Day].map((course: any) => (\n                  <div className=\"course-content\">\n                    <div className=\"course-id\">{course.id}</div>\n                    <span className=\"course-row\">{course.title}</span>\n                    <span className=\"course-row\">\n                      {course.daysOfWeek} {formatTime(course.times.start)} -{' '}\n                      {formatTime(course.times.end)}\n                    </span>\n                  </div>\n                ))\n              )}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useContext, useState } from 'react';\nimport MapView from '../MapView';\nimport { periodToString } from '../../utils';\nimport { TermContext } from '../../contexts';\nimport DaySelection from '../DaySelection';\n\nimport './stylesheet.scss';\n\nconst Map = () => {\n  const [{ oscar, pinnedCrns }] = useContext(TermContext);\n  const [activeDay, setActiveDay] = useState('M');\n  const locations = [];\n  const courseDateMap = {\n    M: [],\n    T: [],\n    W: [],\n    R: [],\n    F: []\n  };\n\n  // Construct the courseDateMap and locations data structures\n  pinnedCrns.forEach((crn) => {\n    const info = oscar.crnMap[crn.toString()];\n    const meetings = info.meetings[0];\n\n    meetings.days.forEach((day) => {\n      courseDateMap[day].push({\n        id: info.course.id,\n        title: info.course.title,\n        times: meetings.period,\n        daysOfWeek: meetings.days\n      });\n    });\n\n    locations.push({\n      section: info.id,\n      id: info.course.id,\n      title: info.course.title,\n      days: meetings.days,\n      time: periodToString(meetings.period),\n      coords: meetings.location\n    });\n  });\n\n  let activeLocations = [];\n  if (activeDay !== '') {\n    activeLocations = locations.filter((loc) =>\n      courseDateMap[activeDay].some((course) => course.id === loc.id)\n    );\n  }\n\n  return (\n    <div className=\"map-content\">\n      <DaySelection\n        courseDateMap={courseDateMap}\n        activeDay={activeDay}\n        setActiveDay={setActiveDay}\n      />\n      <MapView locations={activeLocations} />\n    </div>\n  );\n};\n\nexport default Map;\n","import React from 'react';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { classes } from '../../utils';\nimport { Button } from '..';\n\nimport './stylesheet.scss';\n\nexport type NavDrawerProps = {\n  open: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n};\n\n/**\n * Renders a nav drawer and the overlay when it is open\n */\nconst NavDrawer = ({ open, onClose, children }: NavDrawerProps) => {\n  return (\n    <>\n      <div\n        className={classes('drawer-overlay', open && 'open')}\n        tabIndex={-1}\n        onClick={onClose}\n        role=\"presentation\"\n      />\n      <div className={classes('drawer-outer', open && 'open')}>\n        <div className=\"drawer-header\">\n          <Button className=\"drawer-close\" onClick={onClose}>\n            <FontAwesomeIcon className=\"icon\" fixedWidth icon={faTimes} />\n          </Button>\n        </div>\n        {children}\n      </div>\n    </>\n  );\n};\n\nexport default NavDrawer;\n","import React from 'react';\nimport { Button } from '..';\nimport { classes } from '../../utils';\n\nimport './stylesheet.scss';\n\nexport type NavMenuProps = {\n  items: string[];\n  currentItem: number;\n  onChangeItem: (next: number) => void;\n  className?: string;\n  style?: React.CSSProperties;\n};\n\n/**\n * Renders a vertical nav menu with a single active item\n */\nconst NavMenu = ({\n  items,\n  currentItem,\n  onChangeItem,\n  className,\n  style\n}: NavMenuProps) => {\n  return (\n    <div className={classes('nav-menu', className)} style={style}>\n      {items.map((item, idx) => (\n        <Button\n          className={classes('nav-button', currentItem === idx && 'active')}\n          onClick={() => onChangeItem(idx)}\n        >\n          {item}\n        </Button>\n      ))}\n    </div>\n  );\n};\n\nexport default NavMenu;\n","import React from 'react';\nimport { classes } from '../../utils';\nimport { PALETTE } from '../../constants';\nimport './stylesheet.scss';\n\nexport default function Palette({\n  className,\n  color,\n  onSelectColor,\n  ...restProps\n}) {\n  return (\n    <div className={classes('Palette', className)} {...restProps}>\n      {PALETTE.map((colors, i) => (\n        <div className=\"palette-row\" key={i}>\n          {colors.map((paletteColor) => (\n            <div\n              className={classes('color', paletteColor === color && 'frame')}\n              key={paletteColor}\n              style={{ backgroundColor: paletteColor }}\n              onClick={() => onSelectColor(paletteColor)}\n            />\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useContext, useState } from 'react';\nimport {\n  faInfoCircle,\n  faAngleUp,\n  faAngleDown\n} from '@fortawesome/free-solid-svg-icons';\nimport { TermContext } from '../../contexts';\nimport { classes, decryptReqs } from '../../utils';\nimport { ActionRow } from '..';\n\nexport default function Prerequisite({\n  course,\n  req,\n  option,\n  isHeader,\n  isEmpty,\n  isLast\n}) {\n  const [{ term }] = useContext(TermContext);\n  const [expanded, setExpanded] = useState(true);\n  const reqStyle = { fontSize: '0.9em', padding: '8px' };\n\n  const subreqs =\n    typeof req === 'undefined'\n      ? []\n      : !req[0]\n      ? [req]\n      : typeof req[0] !== 'object'\n      ? req.slice(1, req.length)\n      : typeof req[0] === 'object'\n      ? [req]\n      : null;\n\n  return (\n    <div>\n      {!isHeader && !isEmpty && (\n        <div style={reqStyle}>\n          {decryptReqs(req)} {!isLast && <strong>and</strong>}\n        </div>\n      )}\n      {isHeader && (\n        <ActionRow\n          className={classes('hover-container')}\n          label={req ? `Option ${option}` : `Prerequisites`}\n          actions={[\n            !req && {\n              icon: faInfoCircle,\n              href:\n                `https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_` +\n                `course_detail?cat_term_in=${term}&subj_code_in=` +\n                `${course.subject}&crse_numb_in=${course.number}`\n            },\n            req && {\n              icon: expanded ? faAngleUp : faAngleDown,\n              onClick: () => setExpanded(!expanded)\n            }\n          ]}\n        />\n      )}\n      {isEmpty && (\n        <div style={reqStyle}>No prerequisites. You&apos;re good to go!</div>\n      )}\n      {expanded &&\n        isHeader &&\n        subreqs.map((reqs, i) => (\n          <div key={i} className={classes('divider-bottom', 'nested')}>\n            <Prerequisite req={reqs} isLast={i === subreqs.length - 1} />\n          </div>\n        ))}\n    </div>\n  );\n}\n","import React, { useMemo, useState } from 'react';\nimport { classes } from '../../utils';\nimport { Button, Calendar, CombinationContainer, CourseContainer } from '..';\nimport { OverlayCrnsContext } from '../../contexts';\nimport { useMobile } from '../../hooks';\n\n/**\n * Wraps around the root top-level component of the Scheduler tab\n */\nconst Scheduler = () => {\n  const mobile = useMobile();\n\n  // Store the current set of CRNs that are shown on the Calendar overlay\n  const [overlayCrns, setOverlayCrns] = useState([]);\n\n  // Control second-level navigation between panes on mobile\n  const [tabIndex, setTabIndex] = useState(0);\n\n  // Memoize the CRN overlay set's context value so it is stable\n  const overlayContextValue = useMemo(() => [overlayCrns, setOverlayCrns], [\n    overlayCrns,\n    setOverlayCrns\n  ]);\n\n  return (\n    <>\n      {mobile && (\n        <div className=\"tab-container\">\n          {['Courses', 'Combinations', 'Calendar'].map((tabTitle, i) => (\n            <Button\n              key={tabTitle}\n              className={classes('tab', tabIndex === i && 'active')}\n              onClick={() => setTabIndex(i)}\n            >\n              {tabTitle}\n            </Button>\n          ))}\n        </div>\n      )}\n      <OverlayCrnsContext.Provider value={overlayContextValue}>\n        <div className=\"main\">\n          {(!mobile || tabIndex === 0) && <CourseContainer />}\n          {(!mobile || tabIndex === 1) && <CombinationContainer />}\n          {(!mobile || tabIndex === 2) && (\n            <div className=\"calendar-container\">\n              <Calendar className=\"calendar\" overlayCrns={overlayCrns} />\n            </div>\n          )}\n        </div>\n      </OverlayCrnsContext.Provider>\n    </>\n  );\n};\n\nexport default Scheduler;\n","import React, { useCallback, useContext, useState } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport {\n  faBan,\n  faChair,\n  faThumbtack,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport { classes, periodToString } from '../../utils';\nimport { ActionRow } from '..';\nimport './stylesheet.scss';\nimport { OverlayCrnsContext, TermContext } from '../../contexts';\nimport { DELIVERY_MODES } from '../../constants';\n\nexport default function Section({ className, section, pinned, color }) {\n  const [{ term, pinnedCrns, excludedCrns }, { patchTermData }] = useContext(\n    TermContext\n  );\n  const [, setOverlayCrns] = useContext(OverlayCrnsContext);\n  const [seating, setSeating] = useState([[], []]);\n\n  let hovering = false;\n  const handleHover = () => {\n    hovering = true;\n    setTimeout(async () => {\n      if (hovering) setSeating(await section.fetchSeating(term));\n    }, 333);\n  };\n\n  const excludeSection = useCallback(\n    (sect) => {\n      patchTermData({\n        excludedCrns: [...excludedCrns, sect.crn],\n        pinnedCrns: pinnedCrns.filter((crn) => crn !== sect.crn)\n      });\n    },\n    [pinnedCrns, excludedCrns, patchTermData]\n  );\n\n  const pinSection = useCallback(\n    (sect) => {\n      if (pinnedCrns.includes(sect.crn)) {\n        patchTermData({\n          pinnedCrns: pinnedCrns.filter((crn) => crn !== sect.crn)\n        });\n      } else {\n        patchTermData({\n          pinnedCrns: [...pinnedCrns, sect.crn],\n          excludedCrns: excludedCrns.filter((crn) => crn !== sect.crn)\n        });\n      }\n    },\n    [pinnedCrns, excludedCrns, patchTermData]\n  );\n\n  return (\n    <ActionRow\n      label={section.id}\n      className={classes('Section', className)}\n      onMouseEnter={() => setOverlayCrns([section.crn])}\n      onMouseLeave={() => setOverlayCrns([])}\n      actions={[\n        {\n          icon: pinned ? faTimes : faThumbtack,\n          onClick: () => pinSection(section)\n        },\n        {\n          icon: faChair,\n          dataTip: true,\n          dataFor: section.id,\n          href: `https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=${term}&crn_in=${section.crn}`\n        },\n        {\n          icon: faBan,\n          title: 'Exclude from Combinations',\n          onClick: () => excludeSection(section)\n        }\n      ]}\n      style={pinned ? { backgroundColor: color } : undefined}\n    >\n      <div className=\"section-details\">\n        <div className=\"delivery-mode\">\n          {DELIVERY_MODES[section.deliveryMode]}\n        </div>\n        <div className=\"meeting-container\">\n          {section.meetings.map((meeting, i) => {\n            return (\n              <div className=\"meeting\" key={i}>\n                <span className=\"days\">{meeting.days.join('')}</span>\n                <span className=\"period\">{periodToString(meeting.period)}</span>\n              </div>\n            );\n          })}\n        </div>\n\n        <ReactTooltip\n          id={section.id}\n          className=\"tooltip\"\n          type=\"dark\"\n          place=\"right\"\n          effect=\"solid\"\n          afterShow={() => handleHover()}\n          afterHide={() => {\n            hovering = false;\n          }}\n        >\n          <table>\n            <tbody>\n              <tr>\n                <td>\n                  <b>Seats Filled</b>\n                </td>\n                <td>\n                  {seating[0].length === 0\n                    ? `Loading...`\n                    : typeof seating[0][1] === 'number'\n                    ? `${seating[0][1]} of ${seating[0][0]}`\n                    : `N/A`}\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Waitlist Filled</b>\n                </td>\n                <td>\n                  {seating[0].length === 0\n                    ? `Loading...`\n                    : typeof seating[0][1] === 'number'\n                    ? `${seating[0][3]} of ${seating[0][2]}`\n                    : `N/A`}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </ReactTooltip>\n      </div>\n    </ActionRow>\n  );\n}\n","import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons';\nimport { classes } from '../../utils';\nimport { Button } from '..';\nimport './stylesheet.scss';\n\nexport default function Select({ className, value, onChange, options }) {\n  const [opened, setOpened] = useState(false);\n\n  const selectedOption = options.find((option) => option.value === value);\n  const label = selectedOption ? selectedOption.label : '-';\n\n  return (\n    <div\n      className={classes('Button', 'Select', className)}\n      onClick={() => setOpened(!opened)}\n    >\n      <div className=\"text\">{label}</div>\n      <FontAwesomeIcon fixedWidth icon={faCaretDown} />\n      {opened && <div className=\"intercept\" onClick={() => setOpened(false)} />}\n      {opened && (\n        <div className=\"option-container\">\n          {/* eslint-disable-next-line no-shadow */}\n          {options.map(({ value, label }) => (\n            <Button\n              className=\"option\"\n              key={value}\n              onClick={() => onChange(value)}\n            >\n              {label}\n            </Button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { classes } from '../../utils';\n\nimport './stylesheet.scss';\n\nexport type TabProps = {\n  label: string;\n  onClick: () => void;\n  active?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n};\n\n/**\n * Renders a single top-level tab that is used in a horizontal list\n */\nconst Tab = ({\n  label,\n  active = false,\n  onClick,\n  className,\n  style\n}: TabProps) => (\n  <button\n    className={classes('Tab', active && 'active', className)}\n    style={style}\n    onClick={onClick}\n    type=\"button\"\n  >\n    {label}\n  </button>\n);\n\nexport default Tab;\n","import React, { useContext } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { classes, getContentClassName, periodToString } from '../../utils';\nimport { CLOSE, OPEN } from '../../constants';\nimport './stylesheet.scss';\nimport { TermContext } from '../../contexts';\n\nexport default function TimeBlocks({\n  className,\n  crn,\n  overlay,\n  preview,\n  capture,\n  isAutosized\n}) {\n  const [{ oscar, colorMap }] = useContext(TermContext);\n\n  const section = oscar.findSection(crn);\n  const color = colorMap[section.course.id];\n  const contentClassName = getContentClassName(color);\n\n  return (\n    <div\n      className={classes(\n        'TimeBlocks',\n        capture && 'capture',\n        overlay && 'overlay',\n        className\n      )}\n    >\n      {section.meetings.map(\n        (meeting, i) =>\n          meeting.period &&\n          meeting.days.map((day) => (\n            <div\n              className={classes('meeting', contentClassName, 'default', day)}\n              key={[i, day].join('-')}\n              style={{\n                top: `${\n                  ((meeting.period.start - OPEN) / (CLOSE - OPEN)) * 100\n                }%`,\n                height: `${\n                  ((meeting.period.end - meeting.period.start) /\n                    (CLOSE - OPEN)) *\n                  100\n                }%`,\n                backgroundColor: color\n              }}\n              data-tip\n              data-for={crn}\n            >\n              {!preview && (\n                <div className=\"meeting-wrapper\">\n                  <div className=\"ids\">\n                    <span className=\"course-id\">{section.course.id}</span>\n                    <span className=\"section-id\">&nbsp;{section.id}</span>\n                  </div>\n                  <span className=\"period\">\n                    {periodToString(meeting.period)}\n                  </span>\n                  <span className=\"where\">{meeting.where}</span>\n                  <span className=\"instructors\">\n                    {meeting.instructors.join(', ')}\n                  </span>\n                </div>\n              )}\n            </div>\n          ))\n      )}\n\n      {!isAutosized && (\n        <ReactTooltip\n          id={crn}\n          className=\"tooltip\"\n          type=\"dark\"\n          place=\"top\"\n          effect=\"solid\"\n        >\n          <table>\n            <tbody>\n              <tr>\n                <td>\n                  <b>Course Name</b>\n                </td>\n                <td>{section.course.title}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Delivery Type</b>\n                </td>\n                <td>{section.deliveryMode}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Course Number</b>\n                </td>\n                <td>{section.crn}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Credit Hours</b>\n                </td>\n                <td>{section.credits}</td>\n              </tr>\n            </tbody>\n          </table>\n        </ReactTooltip>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport './stylesheet.scss';\nimport { classes } from '../../utils';\nimport { useMobile } from '../../hooks';\n\nexport default function Attribution() {\n  const mobile = useMobile();\n  return (\n    <div className={classes('Attribution')}>\n      <p>\n        Copyright (c) 2021 with{' '}\n        <span role=\"img\" aria-label=\"love\">\n          ❤️\n        </span>{' '}\n        by <a href=\"https://jasonpark.me\">Jinseo Park</a>,{' '}\n        <a href=\"https://bitsofgood.org\">Bits of Good</a>, and{' '}\n        <a href=\"https://github.com/gt-scheduler/website/graphs/contributors\">\n          {mobile ? 'others' : 'the GT Scheduler contributors'}\n        </a>\n        .\n      </p>\n    </div>\n  );\n}\n","import { Course, SortingOption } from '.';\nimport { hasConflictBetween, stringToTime } from '../utils';\n\nclass Oscar {\n  constructor(data) {\n    const { courses, caches, updatedAt, version } = data;\n\n    this.periods = caches.periods.map((period) => {\n      if (period === 'TBA') {\n        return undefined;\n      }\n      return {\n        start: stringToTime(period.split(' - ')[0]),\n        end: stringToTime(period.split(' - ')[1])\n      };\n    });\n    this.dateRanges = caches.dateRanges.map((dateRange) => {\n      const [from, to] = dateRange.split(' - ').map((v) => new Date(v));\n      from.setHours(0);\n      to.setHours(23, 59, 59, 999);\n      return { from, to };\n    });\n    this.scheduleTypes = caches.scheduleTypes;\n    this.campuses = caches.campuses;\n    this.attributes = caches.attributes;\n    this.gradeBases = caches.gradeBases;\n    this.locations = caches.locations;\n    this.updatedAt = new Date(updatedAt);\n    this.version = version;\n    this.courses = Object.keys(courses).map(\n      (courseId) => new Course(this, courseId, courses[courseId])\n    );\n    this.courseMap = {};\n    this.crnMap = {};\n    this.courses.forEach((course) => {\n      this.courseMap[course.id] = course;\n      course.sections.forEach((section) => {\n        this.crnMap[section.crn] = section;\n      });\n    });\n    this.sortingOptions = [\n      new SortingOption('Most Compact', (combination) => {\n        const { startMap, endMap } = combination;\n        const diffs = Object.keys(startMap).map(\n          (day) => endMap[day] - startMap[day]\n        );\n        const sum = diffs.reduce((tot, min) => tot + min, 0);\n        return +sum;\n      }),\n      new SortingOption('Earliest Ending', (combination) => {\n        const { endMap } = combination;\n        const ends = Object.values(endMap);\n        const sum = ends.reduce((tot, end) => tot + end, 0);\n        const avg = sum / ends.length;\n        return +avg;\n      }),\n      new SortingOption('Latest Beginning', (combination) => {\n        const { startMap } = combination;\n        const starts = Object.values(startMap);\n        const sum = starts.reduce((tot, min) => tot + min, 0);\n        const avg = sum / starts.length;\n        return -avg;\n      })\n    ];\n  }\n\n  findCourse(courseId) {\n    return this.courseMap[courseId];\n  }\n\n  findSection(crn) {\n    return this.crnMap[crn];\n  }\n\n  getCombinations(desiredCourses, pinnedCrns, excludedCrns) {\n    const crnsList = [];\n    const dfs = (courseIndex = 0, crns = []) => {\n      if (courseIndex === desiredCourses.length) {\n        crnsList.push(crns);\n        return;\n      }\n      const course = this.findCourse(desiredCourses[courseIndex]);\n      const isIncluded = (section) => !excludedCrns.includes(section.crn);\n      const isPinned = (section) => pinnedCrns.includes(section.crn);\n      const hasConflict = (section) =>\n        [...pinnedCrns, ...crns].some((crn) =>\n          hasConflictBetween(this.findSection(crn), section)\n        );\n      if (course.hasLab) {\n        const pinnedOnlyLecture = course.onlyLectures.find(isPinned);\n        const pinnedOnlyLab = course.onlyLabs.find(isPinned);\n        const pinnedAllInOne = course.allInOnes.find(isPinned);\n        if ((pinnedOnlyLecture && pinnedOnlyLab) || pinnedAllInOne) {\n          dfs(courseIndex + 1, crns);\n        } else if (pinnedOnlyLecture) {\n          pinnedOnlyLecture.associatedLabs.filter(isIncluded).forEach((lab) => {\n            if (hasConflict(lab)) return;\n            dfs(courseIndex + 1, [...crns, lab.crn]);\n          });\n        } else if (pinnedOnlyLab) {\n          pinnedOnlyLab.associatedLectures\n            .filter(isIncluded)\n            .forEach((lecture) => {\n              if (hasConflict(lecture)) return;\n              dfs(courseIndex + 1, [...crns, lecture.crn]);\n            });\n        } else {\n          course.onlyLectures.filter(isIncluded).forEach((lecture) => {\n            if (hasConflict(lecture)) return;\n            lecture.associatedLabs.filter(isIncluded).forEach((lab) => {\n              if (hasConflict(lab)) return;\n              dfs(courseIndex + 1, [...crns, lecture.crn, lab.crn]);\n            });\n          });\n          course.allInOnes.filter(isIncluded).forEach((section) => {\n            if (hasConflict(section)) return;\n            dfs(courseIndex + 1, [...crns, section.crn]);\n          });\n        }\n      } else if (course.sections.some(isPinned)) {\n        dfs(courseIndex + 1, crns);\n      } else {\n        Object.values(course.sectionGroups).forEach((sectionGroup) => {\n          const section = sectionGroup.sections.find(isIncluded);\n          if (!section || hasConflict(section)) return;\n          dfs(courseIndex + 1, [...crns, section.crn]);\n        });\n      }\n    };\n    dfs();\n    return crnsList.map((crns) => {\n      const startMap = {};\n      const endMap = {};\n      this.iterateTimeBlocks([...pinnedCrns, ...crns], (day, period) => {\n        if (!(day in startMap) || startMap[day] > period.start)\n          startMap[day] = period.start;\n        if (!(day in endMap) || endMap[day] < period.end)\n          endMap[day] = period.end;\n      });\n      return {\n        crns,\n        startMap,\n        endMap\n      };\n    });\n  }\n\n  sortCombinations(combinations, sortingOptionIndex) {\n    const sortingOption = this.sortingOptions[sortingOptionIndex];\n    return combinations\n      .map((combination) => ({\n        ...combination,\n        factor: sortingOption.calculateFactor(combination)\n      }))\n      .sort((a, b) => a.factor - b.factor);\n  }\n\n  iterateTimeBlocks(crns, callback) {\n    crns.forEach((crn) => {\n      this.findSection(crn).meetings.forEach(\n        (meeting) =>\n          meeting.period &&\n          meeting.days.forEach((day) => {\n            callback(day, meeting.period);\n          })\n      );\n    });\n  }\n}\n\nexport default Oscar;\n","import axios from 'axios';\nimport cheerio from 'cheerio';\nimport { Section } from '.';\nimport { hasConflictBetween, isLab, isLecture } from '../utils';\n\nclass Course {\n  constructor(oscar, courseId, data) {\n    const [title, sections, prereqs] = data;\n\n    this.id = courseId;\n    [this.subject, this.number] = this.id.split(' ');\n    this.title = title;\n    this.sections = Object.keys(sections).map(\n      (sectionId) => new Section(oscar, this, sectionId, sections[sectionId])\n    );\n    this.prereqs = prereqs;\n\n    const onlyLectures = this.sections.filter(\n      (section) => isLecture(section) && !isLab(section)\n    );\n    const onlyLabs = this.sections.filter(\n      (section) => isLab(section) && !isLecture(section)\n    );\n    this.hasLab = onlyLectures.length && onlyLabs.length;\n    if (this.hasLab) {\n      for (const lecture of onlyLectures) {\n        lecture.associatedLabs = onlyLabs.filter((lab) =>\n          lab.id.startsWith(lecture.id)\n        );\n      }\n      for (const lab of onlyLabs) {\n        lab.associatedLectures = onlyLectures.filter((lecture) =>\n          lab.id.startsWith(lecture.id)\n        );\n      }\n      const lonelyLectures = onlyLectures.filter(\n        (lecture) => !lecture.associatedLabs.length\n      );\n      const lonelyLabs = onlyLabs.filter(\n        (lab) => !lab.associatedLectures.length\n      );\n      for (const lecture of lonelyLectures) {\n        lecture.associatedLabs = lonelyLabs.filter(\n          (lab) => !hasConflictBetween(lecture, lab)\n        );\n      }\n      for (const lab of lonelyLabs) {\n        lab.associatedLectures = lonelyLectures.filter(\n          (lecture) => !hasConflictBetween(lecture, lab)\n        );\n      }\n      this.onlyLectures = onlyLectures;\n      this.onlyLabs = onlyLabs;\n      this.allInOnes = this.sections.filter(\n        (section) => isLecture(section) && isLab(section)\n      );\n    } else {\n      this.sectionGroups = this.distinct(this.sections);\n    }\n  }\n\n  distinct(sections) {\n    const groups = {};\n    sections.forEach((section) => {\n      const sectionGroupMeetings = section.meetings.map(({ days, period }) => ({\n        days,\n        period\n      }));\n      const sectionGroupHash = JSON.stringify(sectionGroupMeetings);\n      const sectionGroup = groups[sectionGroupHash];\n      if (sectionGroup) {\n        sectionGroup.sections.push(section);\n      } else {\n        groups[sectionGroupHash] = {\n          hash: sectionGroupHash,\n          meetings: sectionGroupMeetings,\n          sections: [section]\n        };\n      }\n    });\n    return groups;\n  }\n\n  async fetchGpa() {\n    const url = `https://critique.gatech.edu/course?courseID=${encodeURIComponent(\n      this.id\n    )}`;\n    return axios({\n      url: `https://cors-anywhere.herokuapp.com/${url}`,\n      method: 'get',\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'text/html'\n      }\n    }).then((response) => {\n      const $ = cheerio.load(response.data);\n      const averageGpa = Number(\n        $('div.center-table > table.table > tbody > tr :nth-child(2)').text()\n      );\n      const gpaMap = { averageGpa };\n\n      $('table#dataTable > tbody > tr').each((i, element) => {\n        const instructor = $(element).find('td:nth-child(1)').text();\n        const [lastName, firstName] = instructor.split(', ');\n        const fullName = `${firstName} ${lastName}`;\n        gpaMap[fullName] = Number($(element).find('td:nth-child(3)').text());\n      });\n\n      return gpaMap;\n    });\n  }\n}\n\nexport default Course;\n","import axios from 'axios';\nimport cheerio from 'cheerio';\nimport { unique } from '../utils';\nimport { DELIVERY_MODES } from '../constants';\n\nclass Section {\n  constructor(oscar, course, sectionId, data) {\n    const [\n      crn,\n      meetings,\n      credits,\n      scheduleTypeIndex,\n      campusIndex,\n      attributeIndices,\n      gradeBasisIndex\n    ] = data;\n\n    this.course = course;\n    this.id = sectionId;\n    this.crn = crn;\n    this.seating = [[], 0];\n    this.credits = credits;\n    this.scheduleType = oscar.scheduleTypes[scheduleTypeIndex];\n    this.campus = oscar.campuses[campusIndex];\n\n    const attributes = attributeIndices.map(\n      (attributeIndex) => oscar.attributes[attributeIndex]\n    );\n    this.deliveryMode = attributes.find(\n      (attribute) => attribute in DELIVERY_MODES\n    );\n\n    this.gradeBasis = oscar.gradeBases[gradeBasisIndex];\n    this.meetings = meetings.map(\n      ([\n        periodIndex,\n        days,\n        where,\n        locationIndex,\n        instructors,\n        dateRangeIndex\n      ]) => ({\n        period: oscar.periods[periodIndex],\n        days: days === '&nbsp;' ? [] : [...days],\n        where,\n        location: oscar.locations[locationIndex],\n        instructors: instructors.map((instructor) =>\n          instructor.replace(/ \\(P\\)$/, '')\n        ),\n        dateRange: oscar.dateRanges[dateRangeIndex]\n      })\n    );\n    this.instructors = unique(\n      this.meetings.reduce(\n        (instructors, meeting) => [...instructors, ...meeting.instructors],\n        []\n      )\n    );\n  }\n\n  async fetchSeating(term) {\n    const prevDate = this.seating[1];\n    const currDate = Date.now();\n\n    if (currDate - prevDate > 300000) {\n      const url =\n        `https://oscar.gatech.edu/pls/bprod/` +\n        `bwckschd.p_disp_detail_sched?term_in=${term}` +\n        `&crn_in=${this.crn}`;\n\n      return axios({\n        url: `https://cors-anywhere.herokuapp.com/${url}`,\n        method: 'get',\n        headers: {\n          'X-Requested-With': 'XMLHttpRequest',\n          'Content-Type': 'text/html'\n        }\n      })\n        .then((response) => {\n          const $ = cheerio.load(response.data);\n          const availabilityTable = $('.datadisplaytable .datadisplaytable');\n          const tableRow = availabilityTable.find('tr');\n\n          this.seating = [\n            [\n              parseInt(tableRow.eq(1).children('td').first().text(), 10),\n              parseInt(tableRow.eq(1).children('td').eq(1).text(), 10),\n              parseInt(tableRow.eq(2).children('td').first().text(), 10),\n              parseInt(tableRow.eq(2).children('td').eq(1).text(), 10)\n            ],\n            currDate\n          ];\n\n          return this.seating;\n        })\n        .catch(() => [new Array(4).fill('N/A'), currDate]);\n    }\n    return this.seating;\n  }\n}\n\nexport default Section;\n","class SortingOption {\n  constructor(label, calculateFactor) {\n    this.label = label;\n    this.calculateFactor = calculateFactor;\n  }\n}\n\nexport default SortingOption;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport swal from '@sweetalert/with-react';\nimport Cookies from 'js-cookie';\nimport { classes } from '../../utils';\nimport { Header, Scheduler, Map, NavDrawer, NavMenu, Attribution } from '..';\nimport { Oscar } from '../../beans';\nimport { useCookie, useJsonCookie, useMobile } from '../../hooks';\nimport { TermContext, TermsContext, ThemeContext } from '../../contexts';\nimport { defaultTermData } from '../../types';\n\nimport 'react-virtualized/styles.css';\nimport './stylesheet.scss';\n\nconst NAV_TABS = ['Scheduler', 'Map'];\n\nconst App = () => {\n  const [terms, setTerms] = useState([]);\n  const [oscar, setOscar] = useState(null);\n\n  // Persist the theme, term, and some term data as cookies\n  const [theme, setTheme] = useCookie('theme', 'dark');\n  const [term, setTerm] = useCookie('term');\n  const [termData, patchTermData] = useJsonCookie(term, defaultTermData);\n\n  // Memoize context values so that their references are stable\n  const themeContextValue = useMemo(() => [theme, setTheme], [theme, setTheme]);\n  const termsContextValue = useMemo(() => [terms, setTerms], [terms, setTerms]);\n  const termContextValue = useMemo(\n    () => [\n      { term, oscar, ...termData },\n      { setTerm, setOscar, patchTermData }\n    ],\n    [term, oscar, termData, setTerm, setOscar, patchTermData]\n  );\n\n  // display popup when first visiting the site\n  useEffect(() => {\n    const cookieKey = 'visited-merge-notice';\n    if (!Cookies.get(cookieKey)) {\n      swal({\n        button: 'Got It!',\n        content: (\n          <div>\n            <img\n              style={{ width: '175px' }}\n              alt=\"GT Scheduler Logo\"\n              src=\"/mascot.png\"\n            />\n            <h1>GT Scheduler</h1>\n            <p>\n              Hey there, yellow jackets!{' '}\n              <a href=\"https://github.com/gt-scheduler\">GT Scheduler</a> is a\n              new collaboration between{' '}\n              <a href=\"https://bitsofgood.org/\">Bits of Good</a> and{' '}\n              <a href=\"https://jasonpark.me/\">Jason (Jinseo) Park</a> aimed at\n              making class registration easier for everybody! Now, you can\n              access course prerequisites, instructor GPAs, live seating\n              information, and more all in one location.\n            </p>\n            <p>\n              If you enjoy our work and are interested in contributing, feel\n              free to{' '}\n              <a href=\"https://github.com/gt-scheduler/website/pulls\">\n                open a pull request\n              </a>{' '}\n              with your improvements. Thank you and enjoy!\n            </p>\n          </div>\n        )\n      });\n\n      Cookies.set(cookieKey, true, { expires: 365 });\n    }\n  }, []);\n\n  // Fetch the current term's scraper information\n  useEffect(() => {\n    setOscar(null);\n    if (term) {\n      axios\n        .get(`https://gt-scheduler.github.io/crawler/${term}.json`)\n        .then((res) => {\n          const newOscar = new Oscar(res.data);\n          setOscar(newOscar);\n        });\n    }\n  }, [term]);\n\n  // Fetch all terms via the GitHub API\n  useEffect(() => {\n    axios\n      .get(\n        'https://api.github.com/repos/gt-scheduler/crawler/contents?ref=gh-pages'\n      )\n      .then((res) => {\n        const newTerms = res.data\n          .map((content) => content.name)\n          .filter((name) => /\\d{6}\\.json/.test(name))\n          .map((name) => name.replace(/\\.json$/, ''))\n          .sort()\n          .reverse();\n        setTerms(newTerms);\n      });\n  }, [setTerms]);\n\n  // Set the term to be the first one if it is unset\n  // (once the terms load)\n  useEffect(() => {\n    if (!term) {\n      const [recentTerm] = terms;\n      setTerm(recentTerm);\n    }\n  }, [terms, term, setTerm]);\n\n  // Re-render when the page is re-sized to become mobile/desktop\n  // (desktop is >= 1024 px wide)\n  const mobile = useMobile();\n  const className = classes('App', mobile && 'mobile', theme);\n\n  // Allow top-level tab-based navigation\n  const [currentTabIndex, setTabIndex] = useState(0);\n\n  // Handle the status of the drawer being open on mobile\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const openDrawer = useCallback(() => setIsDrawerOpen(true), []);\n  const closeDrawer = useCallback(() => setIsDrawerOpen(false), []);\n  useEffect(() => {\n    // Close the drawer if switching to desktop\n    if (isDrawerOpen && !mobile) {\n      setIsDrawerOpen(false);\n    }\n  }, [isDrawerOpen, mobile]);\n\n  // If the scraped JSON hasn't been loaded,\n  // then show an empty div as a loading intermediate\n  if (!oscar) {\n    return <div className={className} />;\n  }\n\n  return (\n    <ThemeContext.Provider value={themeContextValue}>\n      <TermsContext.Provider value={termsContextValue}>\n        <TermContext.Provider value={termContextValue}>\n          <div className={classes('App', className)}>\n            {/* On mobile, show the nav drawer + overlay */}\n            {mobile && (\n              <NavDrawer open={isDrawerOpen} onClose={closeDrawer}>\n                <NavMenu\n                  items={NAV_TABS}\n                  currentItem={currentTabIndex}\n                  onChangeItem={setTabIndex}\n                />\n              </NavDrawer>\n            )}\n            {/* The header controls top-level navigation\n            and is always present */}\n            <Header\n              currentTab={currentTabIndex}\n              onChangeTab={setTabIndex}\n              onToggleMenu={openDrawer}\n              tabs={NAV_TABS}\n            />\n            {currentTabIndex === 0 && <Scheduler />}\n            {currentTabIndex === 1 && <Map />}\n            <Attribution />\n          </div>\n        </TermContext.Provider>\n      </TermsContext.Provider>\n    </ThemeContext.Provider>\n  );\n};\n\nexport default App;\n","import { useCallback, useMemo } from 'react';\nimport { useCookie } from '.';\n\nexport default function useJsonCookie(key, defaultValue) {\n  const [rawValue, setRawValue] = useCookie(key);\n\n  const value = useMemo(() => {\n    if (rawValue !== undefined) {\n      const parsedValue = JSON.parse(rawValue);\n      return {\n        ...defaultValue,\n        ...parsedValue\n      };\n    }\n    return defaultValue;\n  }, [rawValue, defaultValue]);\n\n  const patchValue = useCallback(\n    (patch) => {\n      const rawVal = JSON.stringify({\n        ...value,\n        ...patch\n      });\n      setRawValue(rawVal);\n    },\n    [value, setRawValue]\n  );\n\n  return [value, patchValue];\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'normalize.css';\nimport './stylesheet.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}